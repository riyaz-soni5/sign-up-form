<!DOCTYPE html>
<html lang="en" class="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign up page</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="flex-container">
    <aside class="flex-container flex-direction-col">
      <div class="aside-buttons flex-container">
        <p>Sign up</p>
        <button type="button">Join us</button>
      </div>
      <div>
        <h1>Vertix</h1>
      </div>
    </aside>

    <section class="main-container flex-container flex-direction-col">
      <div class="header">
        <h1>Sign Up</h1>
        <p>Let's start with some facts about you</p>
      </div>
      <div class="form-container">
        <form
          action="./sucessLogin.html"
          method="post"
          class="flex-container flex-direction-col"
        >
          <fieldset
            class="input-area-container flex-container flex-direction-col"
          >
            <div class="flex-container">
              <div class="flex-container flex-direction-col">
                <h5>FIRST NAME</h5>
                <input type="text" name="first-name" id="first-name" minlength="3" required />
              </div>

              <div class="flex-container flex-direction-col">
                <h5>LAST NAME</h5>
                <input type="text" name="last-name" id="last-name" minlength="3" required />
              </div>
            </div>

            <div class="flex-container">
              <div class="flex-container flex-direction-col">
                <h5>EMAIL</h5>
                <input type="email" name="email" id="email" required />
              </div>
            </div>

            <div class="flex-container">
              <div class="flex-container flex-direction-col">
                <h5>PHONE NUMBER</h5>
                <input type="tel" name="number" id="number" minlength="10" maxlength="10" pattern="[0-9]{10}" required />
              </div>

              <div class="flex-container flex-direction-col">
                <h5>GENDER</h5>
                <select name="gender" id="gender">
                  <option value="male" selected>Male</option>
                  <option value="female">Female</option>
                  <option value="none">Prefer Not To Say</option>
                </select>
              </div>
            </div>

            <div class="flex-container">
              <div class="flex-container flex-direction-col">
                <h5>PASSWORD</h5>
                <input type="password" name="password" id="password" minlength="8" required />
              </div>

              <div class="flex-container flex-direction-col">
                <h5>CONFIRM PASSWORD</h5>
                <input
                  type="password"
                  name="confirm-password"
                  id="confirm-password"
                  required
                />
              </div>
            </div>
          </fieldset>
          <fieldset class="flex-container  flex-direction-col">
            <div class="create-btn-con">
              <button type="submit">Create Account</button>
            </div>
            <div>
              <p>Already have an account? <a href="#">Login</a></p>
            </div>
          </fieldset>
        </form>
      </div>
    </section>

    <!-- script for checking if the password and confirm password are same or not -->
    <script type="text/javascript">
      //getting div using DOM
      let passwordDiv = document.getElementById("passwordDiv");
      let rePasswordDiv = document.getElementById("re-passwordDiv");
      let formVar = document.querySelector("form");

      // function to run when submitting the form
      function checkPass() {
        // to stop defualt behavior of the form to be submitted when clicking on submit button
        event.preventDefault();

        // getting password and confirm password value
        let pass = document.getElementById("password");
        let rePass = document.getElementById("re-password");

        // runs if password values are not empty
        if (pass.value != "" && rePass.value != "") {
          // checks if the values are same
          if (pass.value == rePass.value) {
            alert("You have logged in!");
            passwordDiv.innerHTML = `<fieldset>
                                            <legend>PASSWORD</legend>
                                            <input type="password" name="password" id="password" minlength="8" maxlength="10">
                                        </fieldset>`;

            rePasswordDiv.innerHTML = `<fieldset>
                                            <legend>CONFIRM PASSWORD</legend>
                                            <input type="password" name="re-password" id="re-password" minlength="8" maxlength="10">
                                        </fieldset>`;

            // submits the form
            formVar.submit();
          }
          // runs if the value are not same
          else {
            // displays error message
            passwordDiv.innerHTML = `<fieldset>
                                            <legend>PASSWORD</legend>
                                            <input type="password" name="password" id="password" minlength="8" maxlength="10">
                                            <p class="error">*Password don't match</p>  
                                        </fieldset>`;
            rePasswordDiv.innerHTML = `<fieldset>
                                            <legend>CONFIRM PASSWORD</legend>
                                            <input type="password" name="re-password" id="re-password" minlength="8" maxlength="10">
                                            <p class="error">*Password don't match</p>
                                        </fieldset>`;
          }
        }
      }
    </script>
  </body>
</html>
